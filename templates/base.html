<!DOCTYPE html>
<html>
<head>
    <title>TheComBoxMSGR</title>
    <style>
        body { display: flex; height: 100vh; margin: 0; font-family: sans-serif; background: #202225; color: #dcddde; }
        a { color: inherit; text-decoration: none; }
        
        /* Sidebar (–°–ª–µ–≤–∞) */
        .sidebar { width: 70px; background: #2f3136; display: flex; flex-direction: column; align-items: center; padding-top: 10px; gap: 10px;}
        .server-icon { width: 50px; height: 50px; background: #36393f; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: 0.2s; overflow: hidden;}
        .server-icon:hover { border-radius: 30%; background: #007bff; }
        .server-icon img { width: 100%; height: 100%; object-fit: cover; }
        
        /* –ü–∞–Ω–µ–ª—å (–í—Ç–æ—Ä–∞—è –∫–æ–ª–æ–Ω–∫–∞) */
        .panel { width: 240px; background: #2f3136; border-left: 1px solid #202225; display: flex; flex-direction: column; }
        .panel-header { padding: 15px; border-bottom: 1px solid #202225; font-weight: bold; }
        .channel-list { padding: 10px; overflow-y: auto; flex: 1; }
        .channel-item { padding: 5px 10px; margin: 2px 0; border-radius: 4px; cursor: pointer; color: #8e9297; }
        .channel-item:hover, .channel-item.active { background: #393c43; color: #fff; }
        
        /* –ì–ª–∞–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å */
        .main { flex: 1; background: #36393f; display: flex; flex-direction: column; }
        .chat-header { padding: 15px; border-bottom: 1px solid #202225; box-shadow: 0 1px 0 rgba(0,0,0,0.1); }
        .messages { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; }
        .message { display: flex; gap: 10px; align-items: flex-start; }
        .avatar { width: 40px; height: 40px; border-radius: 50%; background: #555; overflow: hidden; flex-shrink: 0; }
        .avatar img { width: 100%; height: 100%; object-fit: cover; }
        .msg-content { display: flex; flex-direction: column; }
        .msg-meta { font-size: 0.8em; color: #72767d; margin-bottom: 2px; }
        .msg-text { line-height: 1.4; white-space: pre-line; word-wrap: break-word; }
        
        /* –í–≤–æ–¥ */
        .input-area { padding: 20px; background: #36393f; }
        .input-box { width: 100%; padding: 12px; background: #40444b; border: none; border-radius: 8px; color: white; outline: none; }
        
        /* –ö–Ω–æ–ø–∫–∏ */
        .btn { background: #007bff; padding: 5px 10px; border-radius: 4px; color: white; border: none; cursor: pointer; }
        .btn-red { background: #d9534f; }
        
        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 10000;
            align-items: center;
            justify-content: center;
        }
        .modal {
            background: #2f3136;
            border-radius: 8px;
            min-width: 400px;
            max-width: 90%;
            max-height: 90%;
            overflow-y: auto;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }
        .modal-header {
            padding: 20px;
            border-bottom: 1px solid #202225;
            font-weight: bold;
            font-size: 1.1em;
        }
        .modal-body {
            padding: 20px;
        }
        .modal-footer {
            padding: 15px 20px;
            border-top: 1px solid #202225;
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }
        .modal-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9em;
        }
        .modal-btn-primary {
            background: #5865f2;
            color: white;
        }
        .modal-btn-primary:hover {
            background: #4752c4;
        }
        .modal-btn-secondary {
            background: #4f545c;
            color: white;
        }
        .modal-btn-secondary:hover {
            background: #5d6269;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <a href="{{ url_for('dashboard') }}" class="server-icon" title="–ì–ª–∞–≤–Ω–∞—è">üè†</a>
        <a href="{{ url_for('explore') }}" class="server-icon" title="–ü–æ–∏—Å–∫">üîç</a>
        <hr style="width: 40%; border: 0; border-top: 2px solid #36393f;">
        
        {% for s in current_user.memberships %}
            {% if s.room and s.room.type != 'dm' %}
            <a href="{{ url_for('view_room', room_id=s.room.id) }}" class="server-icon sidebar-server" data-room-id="{{ s.room.id }}" data-role="{{ s.role }}" title="{{ s.room.name }}">
                {% if s.room.avatar_url %}
                    <img src="{{ s.room.avatar_url }}" alt="{{ s.room.name }}">
                {% else %}
                    {{ s.room.name[:2] }}
                {% endif %}
            </a>
            {% endif %}
        {% endfor %}
        
        <hr style="width: 40%; border: 0; border-top: 2px solid #36393f; margin: 10px 0;">
        
        <button class="server-icon" onclick="showCreateRoomModal(); return false;" style="background: #36393f; border: none; cursor: pointer;" title="–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–µ—Ä/–±–ª–æ–≥">‚ûï</button>
        
        <div id="stickerPacksContainer" style="display: flex; flex-direction: column; gap: 10px; margin-bottom: 10px;">
            <!-- –°—Ç–∏–∫–µ—Ä–ø–∞–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
        </div>
        
        <button class="server-icon" onclick="showCreateStickerPackModal(); return false;" style="background: #36393f; border: none; cursor: pointer;" title="–°–æ–∑–¥–∞—Ç—å —Å—Ç–∏–∫–µ—Ä–ø–∞–∫">üì¶</button>
        
        <a href="{{ url_for('settings') }}" class="server-icon" style="margin-top: auto; margin-bottom: 10px;" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</a>
        <a href="{{ url_for('logout') }}" class="server-icon" style="margin-bottom: 10px; background: #d9534f;" title="–í—ã—Ö–æ–¥">üö™</a>
    </div>

    {% block content %}{% endblock %}

<script>
// –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç–∏–∫–µ—Ä–ø–∞–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
function loadStickerPacks() {
    fetch('/stickerpacks')
    .then(r => r.json())
    .then(data => {
        const container = document.getElementById('stickerPacksContainer');
        if (!container) return;
        
        container.innerHTML = '';
        
        data.packs.forEach(pack => {
            const packIcon = document.createElement('div');
            packIcon.className = 'server-icon';
            packIcon.title = pack.name;
            packIcon.textContent = pack.icon_emoji || 'üì¶';
            packIcon.onclick = () => {
                if (typeof showStickerPack === 'function') {
                    showStickerPack(pack.id, pack.name);
                }
            };
            packIcon.style.cursor = 'pointer';
            packIcon.style.position = 'relative';
            
            // –ö–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
            const editBtn = document.createElement('button');
            editBtn.textContent = '‚úèÔ∏è';
            editBtn.style.position = 'absolute';
            editBtn.style.top = '-5px';
            editBtn.style.right = '-5px';
            editBtn.style.background = '#5865f2';
            editBtn.style.border = 'none';
            editBtn.style.borderRadius = '50%';
            editBtn.style.width = '20px';
            editBtn.style.height = '20px';
            editBtn.style.fontSize = '10px';
            editBtn.style.cursor = 'pointer';
            editBtn.style.display = 'none';
            editBtn.onclick = (e) => {
                e.stopPropagation();
                if (typeof editStickerPack === 'function') {
                    editStickerPack(pack.id, pack.name, pack.icon_emoji);
                }
            };
            packIcon.onmouseenter = () => editBtn.style.display = 'block';
            packIcon.onmouseleave = () => editBtn.style.display = 'none';
            packIcon.appendChild(editBtn);
            
            container.appendChild(packIcon);
        });
    });
}

// –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç–∏–∫–µ—Ä–ø–∞–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', loadStickerPacks);
} else {
    loadStickerPacks();
}

function showCreateStickerPackModal() {
    document.getElementById('createStickerPackModal').style.display = 'flex';
}

function submitCreateStickerPack(e) {
    e.preventDefault();
    const name = document.getElementById('packName').value;
    const emoji = document.getElementById('packEmoji').value || 'üì¶';
    
    if (!name) {
        showAlert('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∏–∫–µ—Ä–ø–∞–∫–∞');
        return;
    }
    
    fetch('/stickerpack/create', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({name: name, icon_emoji: emoji})
    })
    .then(r => r.json())
    .then(data => {
        if (data.success) {
            loadStickerPacks();
            closeModal('createStickerPackModal');
            if (typeof showAlert === 'function') {
                showAlert('–°—Ç–∏–∫–µ—Ä–ø–∞–∫ —Å–æ–∑–¥–∞–Ω!');
            } else {
                alert('–°—Ç–∏–∫–µ—Ä–ø–∞–∫ —Å–æ–∑–¥–∞–Ω!');
            }
            document.getElementById('packName').value = '';
            document.getElementById('packEmoji').value = 'üì¶';
        } else {
            if (typeof showAlert === 'function') {
                showAlert('–û—à–∏–±–∫–∞: ' + (data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'));
            } else {
                alert('–û—à–∏–±–∫–∞: ' + (data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'));
            }
        }
    });
}

function showCreateRoomModal() {
    document.getElementById('createRoomModal').style.display = 'flex';
}

function submitCreateRoom(e) {
    e.preventDefault();
    const name = document.getElementById('roomName').value;
    const type = document.getElementById('roomType').value;
    const isPublic = document.getElementById('roomPublic').checked;
    
    if (!name) {
        showAlert('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–Ω–∞—Ç—ã');
        return;
    }
    
    const form = document.createElement('form');
    form.method = 'POST';
    form.action = '/create_room';
    const nameInput = document.createElement('input');
    nameInput.type = 'hidden';
    nameInput.name = 'name';
    nameInput.value = name;
    form.appendChild(nameInput);
    const typeInput = document.createElement('input');
    typeInput.type = 'hidden';
    typeInput.name = 'type';
    typeInput.value = type;
    form.appendChild(typeInput);
    if (isPublic) {
        const publicInput = document.createElement('input');
        publicInput.type = 'hidden';
        publicInput.name = 'is_public';
        publicInput.value = 'on';
        form.appendChild(publicInput);
    }
    document.body.appendChild(form);
    form.submit();
}

function closeModal(modalId) {
    document.getElementById(modalId).style.display = 'none';
}

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø–æ –∫–ª–∏–∫—É –Ω–∞ overlay
document.addEventListener('DOMContentLoaded', function() {
    ['createRoomModal', 'createStickerPackModal', 'editStickerPackModal'].forEach(id => {
        const modal = document.getElementById(id);
        if (modal) {
            modal.addEventListener('click', function(e) {
                if (e.target === this) closeModal(id);
            });
        }
    });
    
    // –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤ –≤ sidebar
    let sidebarContextMenuServerId = null;
    let sidebarContextMenuServerRole = null;
    
    // –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –¥–ª—è sidebar
    const sidebarContextMenu = document.createElement('div');
    sidebarContextMenu.id = 'sidebarServerContextMenu';
    sidebarContextMenu.className = 'context-menu';
    sidebarContextMenu.style.cssText = 'position: fixed; background: #18191c; border-radius: 4px; padding: 4px; min-width: 200px; box-shadow: 0 8px 16px rgba(0,0,0,0.24); z-index: 10004; display: none;';
    sidebarContextMenu.innerHTML = `
        <div class="context-menu-item" onclick="sidebarInviteToServer()">–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å</div>
        <div class="context-menu-separator" style="height: 1px; background: #4f545c; margin: 4px 0;"></div>
        <div class="context-menu-item danger" onclick="sidebarDeleteServer()">–£–¥–∞–ª–∏—Ç—å —Å–µ—Ä–≤–µ—Ä</div>
        <div class="context-menu-item danger" onclick="sidebarLeaveServer()">–ü–æ–∫–∏–Ω—É—Ç—å —Å–µ—Ä–≤–µ—Ä</div>
    `;
    document.body.appendChild(sidebarContextMenu);
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ü–ö–ú –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ã –≤ sidebar - –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
    document.addEventListener('contextmenu', function(e) {
        const serverItem = e.target.closest('.sidebar-server');
        if (serverItem) {
            e.preventDefault();
            e.stopPropagation();
            e.stopImmediatePropagation();
            
            sidebarContextMenuServerId = parseInt(serverItem.dataset.roomId);
            sidebarContextMenuServerRole = serverItem.dataset.role;
            
            const menu = document.getElementById('sidebarServerContextMenu');
            if (!menu) return;
            
            menu.style.display = 'block';
            menu.style.left = Math.min(e.clientX, window.innerWidth - 220) + 'px';
            menu.style.top = Math.min(e.clientY, window.innerHeight - 200) + 'px';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º –ø—É–Ω–∫—Ç—ã –º–µ–Ω—é –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–æ–ª–∏
            const canInvite = sidebarContextMenuServerRole === 'owner' || sidebarContextMenuServerRole === 'admin';
            const canDelete = sidebarContextMenuServerRole === 'owner' || sidebarContextMenuServerRole === 'admin';
            const menuItems = menu.querySelectorAll('.context-menu-item');
            if (menuItems[0]) menuItems[0].style.display = canInvite ? 'flex' : 'none'; // –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å
            if (menuItems[2]) menuItems[2].style.display = canDelete ? 'flex' : 'none'; // –£–¥–∞–ª–∏—Ç—å
            if (menuItems[3]) menuItems[3].style.display = sidebarContextMenuServerRole !== 'owner' ? 'flex' : 'none'; // –ü–æ–∫–∏–Ω—É—Ç—å
        }
    }, true); // –ò—Å–ø–æ–ª—å–∑—É–µ–º capture phase –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ —Å–æ–±—ã—Ç–∏—è —Ä–∞–Ω—å—à–µ
    
    document.addEventListener('click', function(e) {
        const menu = document.getElementById('sidebarServerContextMenu');
        if (menu && !menu.contains(e.target)) {
            menu.style.display = 'none';
        }
    });
    
    // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è sidebar –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é
    window.sidebarInviteToServer = function() {
        if (!sidebarContextMenuServerId) return;
        fetch(`/room/${sidebarContextMenuServerId}/invite`, { method: 'POST' })
        .then(r => r.json())
        .then(data => {
            if (data.success) {
                navigator.clipboard.writeText(data.invite_url).then(() => {
                    if (typeof showAlert === 'function') {
                        showAlert('–°—Å—ã–ª–∫–∞-–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
                    } else {
                        alert('–°—Å—ã–ª–∫–∞-–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
                    }
                }).catch(() => {
                    // Fallback
                    const textarea = document.createElement('textarea');
                    textarea.value = data.invite_url;
                    textarea.style.position = 'fixed';
                    textarea.style.opacity = '0';
                    document.body.appendChild(textarea);
                    textarea.select();
                    try {
                        document.execCommand('copy');
                        if (typeof showAlert === 'function') {
                            showAlert('–°—Å—ã–ª–∫–∞-–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
                        } else {
                            alert('–°—Å—ã–ª–∫–∞-–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
                        }
                    } catch (err) {
                        if (typeof showAlert === 'function') {
                            showAlert('–°—Å—ã–ª–∫–∞: ' + data.invite_url);
                        } else {
                            alert('–°—Å—ã–ª–∫–∞: ' + data.invite_url);
                        }
                    }
                    document.body.removeChild(textarea);
                });
            } else {
                if (typeof showAlert === 'function') {
                    showAlert('–û—à–∏–±–∫–∞: ' + (data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'));
                } else {
                    alert('–û—à–∏–±–∫–∞: ' + (data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'));
                }
            }
        });
        const menu = document.getElementById('sidebarServerContextMenu');
        if (menu) menu.style.display = 'none';
    };
    
    window.sidebarDeleteServer = function() {
        if (!sidebarContextMenuServerId) return;
        const confirmMsg = '–í—ã —É–≤–µ—Ä–µ–Ω—ã? –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä–∞ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ.';
        if (confirm('–£–¥–∞–ª–∏—Ç—å —Å–µ—Ä–≤–µ—Ä\n\n' + confirmMsg)) {
            fetch(`/room/${sidebarContextMenuServerId}/delete`, { method: 'POST' })
            .then(r => r.json())
            .then(data => {
                if (data.success) {
                    location.reload();
                } else {
                    if (typeof showAlert === 'function') {
                        showAlert('–û—à–∏–±–∫–∞: ' + (data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'));
                    } else {
                        alert('–û—à–∏–±–∫–∞: ' + (data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'));
                    }
                }
            });
        }
        const menu = document.getElementById('sidebarServerContextMenu');
        if (menu) menu.style.display = 'none';
    };
    
    window.sidebarLeaveServer = function() {
        if (!sidebarContextMenuServerId) return;
        if (confirm('–ü–æ–∫–∏–Ω—É—Ç—å —Å–µ—Ä–≤–µ—Ä\n\n–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –ø–æ–∫–∏–Ω—É—Ç—å —ç—Ç–æ—Ç —Å–µ—Ä–≤–µ—Ä?')) {
            fetch(`/room/${sidebarContextMenuServerId}/leave`, { method: 'POST' })
            .then(r => r.json())
            .then(data => {
                if (data.success) {
                    location.reload();
                } else {
                    if (typeof showAlert === 'function') {
                        showAlert('–û—à–∏–±–∫–∞: ' + (data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'));
                    } else {
                        alert('–û—à–∏–±–∫–∞: ' + (data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'));
                    }
                }
            });
        }
        const menu = document.getElementById('sidebarServerContextMenu');
        if (menu) menu.style.display = 'none';
    };
});
</script>
<style>
.context-menu {
    position: fixed;
    background: #18191c;
    border-radius: 4px;
    padding: 4px;
    min-width: 200px;
    box-shadow: 0 8px 16px rgba(0,0,0,0.24);
    z-index: 10004;
    display: none;
}
.context-menu-item {
    padding: 8px 12px;
    color: #b9bbbe;
    cursor: pointer;
    border-radius: 2px;
    font-size: 0.9em;
    display: flex;
    align-items: center;
    gap: 8px;
}
.context-menu-item:hover {
    background: #5865f2;
    color: white;
}
.context-menu-item.danger:hover {
    background: #d83c3e;
}
.context-menu-separator {
    height: 1px;
    background: #4f545c;
    margin: 4px 0;
}
</style>
</script>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–Ω–∞—Ç—ã -->
<div class="modal-overlay" id="createRoomModal">
    <div class="modal">
        <div class="modal-header">–°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É</div>
        <form id="createRoomForm" onsubmit="submitCreateRoom(event); return false;">
            <div class="modal-body">
                <label style="display: block; margin-bottom: 5px;">–ù–∞–∑–≤–∞–Ω–∏–µ:</label>
                <input type="text" id="roomName" class="input-box" style="margin-bottom: 15px;" required>
                <label style="display: block; margin-bottom: 5px;">–¢–∏–ø:</label>
                <select id="roomType" class="input-box" style="margin-bottom: 15px;">
                    <option value="server">–°–µ—Ä–≤–µ—Ä (–° —á–∞—Ç–∞–º–∏)</option>
                    <option value="broadcast">–ë–ª–æ–≥ (–¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ)</option>
                </select>
                <label style="display: flex; align-items: center; gap: 10px;">
                    <input type="checkbox" id="roomPublic">
                    –ü—É–±–ª–∏—á–Ω—ã–π (–≤–∏–¥–µ–Ω –≤ –ø–æ–∏—Å–∫–µ)
                </label>
            </div>
            <div class="modal-footer">
                <button type="button" class="modal-btn modal-btn-secondary" onclick="closeModal('createRoomModal')">–û—Ç–º–µ–Ω–∞</button>
                <button type="submit" class="modal-btn modal-btn-primary">–°–æ–∑–¥–∞—Ç—å</button>
            </div>
        </form>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–∏–∫–µ—Ä–ø–∞–∫–∞ -->
<div class="modal-overlay" id="createStickerPackModal">
    <div class="modal">
        <div class="modal-header">–°–æ–∑–¥–∞—Ç—å —Å—Ç–∏–∫–µ—Ä–ø–∞–∫</div>
        <form id="createStickerPackForm" onsubmit="submitCreateStickerPack(event); return false;">
            <div class="modal-body">
                <label style="display: block; margin-bottom: 5px;">–ù–∞–∑–≤–∞–Ω–∏–µ:</label>
                <input type="text" id="packName" class="input-box" style="margin-bottom: 15px;" required>
                <label style="display: block; margin-bottom: 5px;">–≠–º–æ–¥–∑–∏ –¥–ª—è –∏–∫–æ–Ω–∫–∏:</label>
                <input type="text" id="packEmoji" class="input-box" style="margin-bottom: 15px;" value="üì¶" maxlength="2">
            </div>
            <div class="modal-footer">
                <button type="button" class="modal-btn modal-btn-secondary" onclick="closeModal('createStickerPackModal')">–û—Ç–º–µ–Ω–∞</button>
                <button type="submit" class="modal-btn modal-btn-primary">–°–æ–∑–¥–∞—Ç—å</button>
            </div>
        </form>
    </div>
</div>
</body>
</html>
