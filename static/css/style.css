/* style.css - BoxChat Main Stylesheet */
:root {
    /* Цветовая палитра */
    --bg-dark: #3a304a;
    --bg-panel: #4e4463;
    --bg-surface: #675b82;
    --primary: #a78bfa;
    --primary-hover: #c4b5fd;
    --text-main: #f3e8ff;
    --text-muted: #c4b5fd;
    --border: #5a5072;
    --danger: #ff8a80;
        
    /* Размеры */
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 20px;
    --nav-width: 72px;
    --sidebar-width: 280px;
}

/* --- Базовые стили --- */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
}

body {
    background-color: var(--bg-dark);
    color: var(--text-main);
    overflow: hidden;
    height: 100vh;
    width: 100vw;
}

/* --- Сетка макета (ПК версия по умолчанию) --- */
.chat-layout {
    display: grid;
    grid-template-columns: var(--nav-width) var(--sidebar-width) 1fr;
    height: 100vh;
}

/* Сайдбар с иконками серверов */
.sidebar {
    background-color: var(--bg-dark);
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px 0;
    border-right: 1px solid var(--border);
    z-index: 10;
    overflow-y: auto;
}

/* Список каналов (вторая колонка) */
.rooms-list {
    background-color: var(--bg-panel);
    border-right: 1px solid var(--border);
    display: flex;
    flex-direction: column;
}

/* Основная область чата / контента */
.chat-area {
    background-color: var(--bg-surface);
    display: flex;
    flex-direction: column;
    min-height: 0;
    position: relative;
}

/* --- ГЛАВНАЯ СТРАНИЦА (Dashboard) --- */
/* На ПК она должна занимать и 2-ю, и 3-ю колонку */
.dashboard-content {
    grid-column: 2 / 4 !important;
    display: flex;
    flex-direction: column;
    background-color: var(--bg-surface);
}

.dashboard-header {
    padding: 15px 20px;
    border-bottom: 1px solid var(--border);
    background-color: var(--bg-panel);
}

.dashboard-header h2 { margin: 0; font-size: 1.5rem; }
.dashboard-header p { margin: 4px 0 0 0; color: var(--text-muted); font-size: 0.9rem; }

/* --- Элементы интерфейса --- */
.nav-item { margin-bottom: 16px; cursor: pointer; opacity: 0.7; transition: 0.2s; }
.nav-item.active, .nav-item:hover { opacity: 1; }

.icon-circle {
    width: 48px; height: 48px;
    background-color: var(--bg-panel);
    border-radius: 50%;
    display: flex; justify-content: center; align-items: center;
    color: var(--text-muted);
}
.nav-item.active .icon-circle {
    background-color: var(--primary);
    color: var(--bg-dark);
    border-radius: 16px;
}

.messages-container { flex: 1; padding: 24px; overflow-y: auto; }

.chat-input-area {
    padding: 20px 24px;
    background-color: var(--bg-panel);
    border-top: 1px solid var(--border);
    display: flex; gap: 12px;
}

.chat-input {
    flex: 1; padding: 12px 18px; border-radius: 24px;
    border: 1px solid var(--border); background: var(--bg-dark);
    color: white; outline: none;
}

/* --- МОБИЛЬНАЯ ВЕРСИЯ (до 480px) --- */
@media (max-width: 480px) {
    .chat-layout {
        display: block !important; /* Отключаем сетку ПК */
    }

    /* Сайдбар на мобилке */
    .sidebar {
        display: none; 
        position: fixed; left: 0; top: 0; bottom: 0;
        width: var(--nav-width);
    }

    /* Показывать сайдбар на главной странице */
    body.is-dashboard .sidebar {
        display: flex !important;
    }

    /* Основной контент на мобилке */
    .chat-area {
        width: 100vw;
        padding-top: 56px; /* Отступ для шапки в обычных чатах */
    }

    /* ИСПРАВЛЕНИЯ ДЛЯ ГЛАВНОЙ (DASHBOARD) НА МОБИЛКЕ */
    body.is-dashboard .chat-area {
        padding-top: 0 !important; /* Поднимаем "Welcome" в самый верх */
        padding-left: var(--nav-width) !important; /* Прижимаем к сайдбару */
        width: 100% !important;
        position: fixed;
        top: 0; left: 0; bottom: 0;
    }

    .dashboard-content {
        grid-column: 1 / 2 !important; /* Перекрываем настройки ПК */
    }

    .dashboard-header {
        padding: 10px 15px; /* Уменьшаем отступы заголовка */
    }

    .rooms-list {
        display: none;
        position: fixed; left: var(--nav-width); top: 0; bottom: 0;
        width: calc(100% - var(--nav-width));
        z-index: 100;
    }

    body.rooms-open .rooms-list { display: flex !important; }

    /* Хедер в чате (не на главной) */
    .chat-header {
        position: fixed; top: 0; left: 0; right: 0;
        height: 56px; z-index: 50;
        background-color: var(--bg-panel);
        padding: 0 12px;
    }
}

/* Утилиты */
.material-icons-round { font-family: 'Material Icons Round'; font-size: 24px; }
